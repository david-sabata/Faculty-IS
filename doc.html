<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-2"/>
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>Pøihla¹ování na projekty</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>První autor 
	    <a href="mailto:xsabat01@stud.fit.vutbr.cz">xsabat01@stud.fit.vutbr.cz</a> -
		PHP programování systému
	</dd>
	<dd>Druhý autor
	    <a href="mailto:xstrat06@stud.fit.vutbr.cz">xstrat06@stud.fit.vutbr.cz</a> - 
		u¾ivatelské rozhraní, databáze, testování
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://iis.davidsabata.cz">http://iis.davidsabata.cz</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<table>
   <tr>
      <th>Login</th>
      <th>Heslo</th>
      <th>Role</th>
   </tr>               
   <tr>
      <td>admin</td>
      <td>test</td>
      <td>administrátor</td>
   </tr>               
   <tr>
      <td>igaran01</td>
      <td>test</td>
      <td>garant</td>
   </tr>               
   <tr>
      <td>ivyucu01</td>
      <td>test</td>
      <td>vyuèující</td>
   </tr>     
   <tr>
      <td>iasist01</td>
      <td>test</td>
      <td>asistent</td>
   </tr>
   <tr>
      <td>xsabat01</td>
      <td>test</td>
      <td>student</td>
   </tr>
   <tr>
      <td>xstrat06</td>
      <td>test</td>
      <td>student</td>
   </tr>
   <tr>
      <td>xzelap01</td>
      <td>test</td>
      <td>student</td>
   </tr>
   <tr>
      <td>xtycka01</td>
      <td>test</td>
      <td>student</td>
   </tr>
   <tr>
      <td>xnovak01</td>
      <td>test</td>
      <td>student</td>
   </tr>
</table>


<h2>Implementace</h2>
<p>
  Systém je rozdìlen do nìkolika modulù:<br /><br /> 
  
  <code>Public</code> obsahující pouze pøihla¹ovací stránku a mo¾nost resetu 
  databáze do výchozího stavu. Pokud je ji¾ u¾ivatel pøihlá¹en, je automaticky pøesmìrován 
  na modul odpovídající jeho roli.<br /><br />
  
  <code>Admin</code> pro potøeby správce systému. Ten zde vytváøí u¾ivatelské úèty, nastavuje 
  u¾ivatelùm role a jednotlivým rolím pøiøazuje povolené úkony. Dále vytváøí pøedmìty a 
  pøiøazuje jim vyuèující (v mo¾ných rolích: asistent, vyuèující, garant), a registruje 
  studentùm zvolené pøedmìty. Tyto registrace studentù do pøedmìtù je mo¾né importovat a exportovat. 
  Import pracuje inkrementálnì, tedy není jeho pomocí mo¾né studenta z pøedmìtu odhlásit. Funkènost, 
  kdy by byli studenti neuvedení v importu z pøedmìtu odhlá¹eni, by byla v praxi nepou¾itelná. Jedním 
  z cílù systému byla mo¾nost archivace v¹ech vazeb a mo¾nost zpìtného prohlí¾ení. Soubor k importu 
  by v takovém pøípadì neúnostnì nabíral na velikosti.<br /><br />
  
  <code>Teacher</code> pro zamìstnance pøiøazené k pøedmìtùm a jejich mo¾nost 
  (v závislosti na oprávnìní) vypisovat, upravovat a hodnotit projekty. Ve výchozím 
  nastavení od sebe role dìdí oprávnìní. Asistent mù¾e projekty pouze hodnotit, vyuèující 
  je mù¾e navíc zadávat a upravovat. Garant nemá oproti vyuèujícímu ¾ádná dal¹í oprávnení a je v 
  systému spí¹e pro demonstraci mo¾ností. V¹ichni pak mohou prohlí¾et obsazení vypsaných termínù studenty.<br /><br />
  
  <code>Student</code> pro pøihlá¹ení studentù. K dispozici je jak rychlý pøehled pøedmìtù v aktuálním roce, 
  tak i pøehled v¹ech pøedmìtù za dobu studia. V obou pøípadech je mo¾né se dostat pøes detail pøedmìtu a detail projektu 
  a¾ k pøípadnému detailu varianty vypsaného termínu. (V¾dy samozøejmì v závislosti na typu vypsaného termínu.) Podle 
  nastavení termínu (projektu) se mù¾e student pøihlásit buï sám anebo v týmu, ihned nebo ve vyuèujícím naplánovaném èase.<br /><br />
  <br />
      
  Zpùsob pøihla¹ování na projekty jsme v na¹em systému pojali odli¹nì od souèasného fakultního systému. 
  První zmìnou je, ¾e systém umo¾òuje vytvoøit kombinovaný termín, jeho¾ nìkteré varianty budou týmové, zatímco 
  jiné budou pouze pro jednotlivce. U týmových variant lze limitovat poèet èlenù v týmu a poèet týmù celkem. U netýmových 
  variant lze omezit pouze maximum pøihlá¹ených studentù.<br />
  Druhou zmìnou je pøihla¹ování na týmové projekty. Aby se studenti mohli na termín pøihlásit, musejí nejdøíve 
  utvoøit tým. Student mù¾e tým zalo¾it sám (a stává se tak jeho vedoucím s mo¾ností pøedat vedení jinému èlenovi týmu nebo 
  tohoto èlena z týmu vyøadit) anebo mù¾e po¾ádat o pøijetí do ji¾ zalo¾eného týmu jiného studenta (který je jeho vedoucím). 
  Na projekt se potom pøihla¹uje pouze vedoucí týmu, co¾ sní¾í zátì¾ serveru v dobì pøihla¹ování, ale zejména 
  umo¾ní vìt¹í organizovanost studentù u týmových variant projektù. <br />
  Pøínos pro vyuèující je vìt¹í kontrola nad poètem a velikostí týmù a dále pøehlednìj¹í hodnocení, kde se pøi 
  hodnocení studenta zobrazí pøímo i jeho tým a je mo¾né hodnotit v¹echny jeho èleny.<br /><br />
  
  Jeliko¾ pøi pøihla¹ování musí ka¾dý po¾adavek nejdøíve ovìøit volnou kapacitu termínu a a¾ pak probíhá pøihlá¹ení, 
  vzniká zde klasický problém synchronizace vícevláknové aplikace - jedno vlákno se rozhoduje na základì hodnoty, kterou upravuje 
  jiné vlákno. Tomuto jsme zamezili zavedením kritické sekce, která je øe¹ená pomocí zamykání databázových tabulek. Toto øe¹ení 
  je v na¹em pøípadì jednodu¹¹í a co se rychlosti zpracování dotazu týèe i výkonnìj¹í ne¾ pou¾ití transakcí.<br /><br />
         
  Pùvodní návrh databázové struktury jsme roz¹íøili o nìkolik vazebních tabulek, jeliko¾ ná¹ døívìj¹í návrh nepoèítal s 
  více variantami termínù, s mo¾ností netýmových termínù, ani s mo¾ností kombinací týmových a netýmových zadání.  
</p>

<h2>Instalace</h2>
<ul>
  <li>
    Po¾adavky na hosting: Apache s modulem mod_rewrite, MySQL 5.1+, PHP 5.3+ (konkrétní vy¾adované nastavení a moduly lze zkontrolovat 
    pomocí RequirementsCheckeru z distribuce <a href="http://nette.org/cs/download">Nette Frameworku</a>)
  </li>
  <li>
    Odevzdaný archiv rozbalte na serveru, nastavte práv a pro zápis do slo¾ek <code>log</code>, <code>temp</code> a <code>document_root/files</code>
  </li>
  <li>Ve slo¾ce <code>libs</code> vytvoøte slo¾ku <code>Nette</code>, do které nakopírujte <a href="https://github.com/nette/nette/commit/ecc11dfadc701645972cdcbc5986c0e104a3dd7a">Nette Framework ve verzi 2.0-dev, revize ecc11df z 30.9.2010</a></li>
  <li>Ve slo¾ce <code>libs</code> vytvoøte slo¾ku <code>dibi</code>, do které nakopírujte <a href="https://github.com/nette/dibi/commit/90592929ecc13b66890ef1cc615fa7ac267b93bf">dibi ve verzi 1.3-dev, revize 9059292 z 28.9.2010</a></li> 
  <li>Ve slo¾ce <code>libs</code> vytvoøte slo¾ku <code>DataGrid</code>, do které nakopírujte <a href="http://sklad.davidsabata.cz/DataGrid.zip">DataGrid ve verzi pro Nette Framework 2.0-dev</a></li>
  <li>Vytvoøte prázdnou databázi a adresu serveru a pøihla¹ovací údaje vyplòte v souboru <code>app/config.ini</code> v sekci <code>[common]</code></li>
  <li>Spus»te inicializaci databáze na adrese <code>vasweb.cz/init</code> (v pøípadì projektu <a href="http://iis.davidsabata.cz/init">iis.davidsabata.cz/init</a>), která nastaví databázi do výchozího stavu a naplní ji ukázkovými daty. <span style="color:red">Obnovení prosím proveïte i pøed samotným opravováním. Jeliko¾ je systém dostupný na veøejném webu a není chránìn heslem, nemù¾eme zaruèit, ¾e od data odevzdání do data Va¹eho opravování se do systému nikdo nepøihlásí a nebude provádìt úpravy v pøeddefinovaných datech.</span></li>
</ul>

<h2>Známé problémy</h2>
<p>®ádné</p>

</body>
</html>
